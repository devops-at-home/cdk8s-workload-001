// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Snapshot tests Hello Kubernetes 1`] = `
AwsEncryptionProvider {
  "_disableResourceNameHashes": false,
  "_labels": {},
  "namespace": undefined,
  "node": Node {
    "_children": {
      "deployment": KubeDeployment {
        "apiGroup": "apps",
        "apiVersion": "apps/v1",
        "chart": [Circular],
        "kind": "Deployment",
        "metadata": ApiObjectMetadataDefinition {
          "_additionalAttributes": {
            "labels": {
              "app.kubernetes.io/name": "aws-encryption-provider",
            },
            "name": "aws-encryption-provider",
            "namespace": "kube-system",
          },
          "annotations": {},
          "finalizers": [],
          "labels": {
            "app.kubernetes.io/name": "aws-encryption-provider",
          },
          "name": "aws-encryption-provider",
          "namespace": "kube-system",
          "ownerReferences": [],
        },
        "name": "aws-encryption-provider",
        "node": Node {
          "_children": {},
          "_context": {},
          "_dependencies": Set {},
          "_locked": false,
          "_metadata": [],
          "_validations": [],
          "host": [Circular],
          "id": "deployment",
          "scope": [Circular],
        },
        "patches": [],
        "props": {
          "apiVersion": "apps/v1",
          "kind": "Deployment",
          "metadata": {
            "labels": {
              "app.kubernetes.io/name": "aws-encryption-provider",
            },
            "name": "aws-encryption-provider",
            "namespace": "kube-system",
          },
          "spec": {
            "replicas": 1,
            "selector": {
              "matchLabels": {
                "app.kubernetes.io/name": "aws-encryption-provider",
              },
            },
            "template": {
              "metadata": {
                "labels": {
                  "app.kubernetes.io/name": "aws-encryption-provider",
                },
                "name": "aws-encryption-provider",
                "namespace": "kube-system",
              },
              "spec": {
                "containers": [
                  {
                    "command": [
                      "/aws-encryption-provider",
                      "--key=arn:aws:kms:ap-southeast-2:012345678901:key/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
                      "--region=ap-southeast-2",
                      "--listen=/var/run/kmsplugin/socket.sock",
                    ],
                    "image": "012345678901.dkr.ecr.ap-southeast-2.amazonaws.com/aws-encryption-provider:latest",
                    "imagePullPolicy": "IfNotPresent",
                    "livenessProbe": {
                      "httpGet": {
                        "path": "/healthz",
                        "port": IntOrString {
                          "value": 8080,
                        },
                      },
                    },
                    "name": "aws-encryption-provider",
                    "ports": [
                      {
                        "containerPort": 8080,
                        "name": "http",
                        "protocol": "TCP",
                      },
                    ],
                    "volumeMounts": [
                      {
                        "mountPath": "/var/run/kmsplugin",
                        "name": "var-run-kmsplugin",
                      },
                      {
                        "mountPath": "/root/.aws",
                        "name": "awsssm",
                      },
                    ],
                  },
                ],
                "imagePullSecrets": [
                  {
                    "name": "ecrauth",
                  },
                ],
                "serviceAccountName": "aws-encryption-provider",
                "volumes": [
                  {
                    "hostPath": {
                      "path": "/var/run/kmsplugin",
                      "type": "DirectoryOrCreate",
                    },
                    "name": "var-run-kmsplugin",
                  },
                  {
                    "hostPath": {
                      "path": "/root/.aws",
                    },
                    "name": "awsssm",
                  },
                ],
              },
            },
          },
        },
        Symbol(@aws-cdk/core.DependableTrait): {
          "dependencyRoots": [
            [Circular],
          ],
        },
      },
      "serviceAccount": KubeServiceAccount {
        "apiGroup": "core",
        "apiVersion": "v1",
        "chart": [Circular],
        "kind": "ServiceAccount",
        "metadata": ApiObjectMetadataDefinition {
          "_additionalAttributes": {
            "labels": {
              "app.kubernetes.io/name": "aws-encryption-provider",
            },
            "name": "aws-encryption-provider",
            "namespace": "kube-system",
          },
          "annotations": {},
          "finalizers": [],
          "labels": {
            "app.kubernetes.io/name": "aws-encryption-provider",
          },
          "name": "aws-encryption-provider",
          "namespace": "kube-system",
          "ownerReferences": [],
        },
        "name": "aws-encryption-provider",
        "node": Node {
          "_children": {},
          "_context": {},
          "_dependencies": Set {},
          "_locked": false,
          "_metadata": [],
          "_validations": [],
          "host": [Circular],
          "id": "serviceAccount",
          "scope": [Circular],
        },
        "patches": [],
        "props": {
          "apiVersion": "v1",
          "kind": "ServiceAccount",
          "metadata": {
            "labels": {
              "app.kubernetes.io/name": "aws-encryption-provider",
            },
            "name": "aws-encryption-provider",
            "namespace": "kube-system",
          },
        },
        Symbol(@aws-cdk/core.DependableTrait): {
          "dependencyRoots": [
            [Circular],
          ],
        },
      },
    },
    "_context": {},
    "_dependencies": Set {},
    "_locked": false,
    "_metadata": [],
    "_validations": [],
    "host": [Circular],
    "id": "AwsEncryptionProvider",
    "scope": App {
      "node": Node {
        "_children": {
          "AwsEncryptionProvider": [Circular],
        },
        "_context": {},
        "_dependencies": Set {},
        "_locked": false,
        "_metadata": [],
        "_validations": [],
        "host": [Circular],
        "id": "",
        "scope": undefined,
      },
      "outdir": "dist",
      "outputFileExtension": ".k8s.yaml",
      "recordConstructMetadata": false,
      "yamlOutputType": 1,
      Symbol(@aws-cdk/core.DependableTrait): {
        "dependencyRoots": [
          [Circular],
        ],
      },
    },
  },
  Symbol(@aws-cdk/core.DependableTrait): {
    "dependencyRoots": [
      [Circular],
    ],
  },
}
`;
